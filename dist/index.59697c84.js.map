{"mappings":"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","sources":["src/app.ts"],"sourcesContent":["const labels = [\"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\"];\r\n\r\nconst data = {\r\n    labels,\r\n    datasets: [\r\n        {\r\n            label: \"users\",\r\n            backgroundColor: \"rgb(255, 99, 132)\",\r\n            borderColor: \"rgb(255, 99, 132)\",\r\n            data: [],\r\n        }\r\n    ]\r\n};\r\n\r\nconst config = {\r\n    type: \"line\",\r\n    data: data,\r\n    options: {}\r\n};\r\n\r\nconst chartEl = document.getElementById(\"myChart\");\r\n// @ts-ignore\r\nconst myChart = new Chart(chartEl, config);\r\n\r\nfunction showSpinner() {\r\n    document.querySelector(\".tBody\")!.innerHTML = `\r\n        <tr>\r\n            <td>Loading</td>\r\n        </tr>\r\n    `;\r\n}\r\n\r\nfunction renderError() {\r\n    document.querySelector(\".tBody\")!.innerHTML = `\r\n        <tr>\r\n            <td>Error</td>\r\n        </tr>\r\n    `;\r\n}\r\n\r\ntype User = {\r\n  name: {\r\n    title: string;\r\n    first: string;\r\n    last: string;\r\n  }\r\n  email: string;\r\n  location: {\r\n    street: {\r\n      name: string;\r\n      number: number;\r\n    }\r\n  }\r\n  dob: {\r\n    age: number;\r\n  }\r\n}\r\n\r\n\r\nfunction renderTable(users: User[]) {\r\n    let html = \"\";\r\n\r\n    users\r\n        .sort((x, y) => x.dob.age < y.dob.age? 1 : -1)\r\n        .slice(0, 99)\r\n        .forEach((user) => {\r\n            html += \"<tr>\";\r\n            html += `<td>${user.name.title}. ${user.name.first} ${user.name.last}</td>`;\r\n            html += `<td>${user.email}</td>`;\r\n            html += `<td>${user.location.street.name}, ${user.location.street.number}</td>`;\r\n            html += `<td>${user.dob.age}</td>`;\r\n            html += \"</tr>\";\r\n        });\r\n\r\n    document.querySelector(\".tBody\")!.innerHTML = html;\r\n}\r\n\r\nfunction renderChart(users: User[]) {\r\n    const userAgeList = users.map(user => user.dob.age).sort();\r\n\r\n    myChart.data.datasets[0].data = [\r\n        userAgeList.reduce((acc, curr) => curr > 20 && curr < 29 ? acc + 1: acc, 0),\r\n        userAgeList.reduce((acc, curr) => curr > 30 && curr < 39 ? acc + 1: acc, 0),\r\n        userAgeList.reduce((acc, curr) => curr > 40 && curr < 49 ? acc + 1: acc, 0),\r\n        userAgeList.reduce((acc, curr) => curr > 50 && curr < 59 ? acc + 1: acc, 0),\r\n        userAgeList.reduce((acc, curr) => curr > 60 && curr < 69 ? acc + 1: acc, 0),\r\n        userAgeList.reduce((acc, curr) => curr > 70 && curr < 79 ? acc + 1: acc, 0)\r\n    ];\r\n    myChart.update('active');\r\n}\r\n\r\nasync function fetchData() {\r\n    try {\r\n        showSpinner();\r\n        const res = await fetch(\r\n            \"https://randomuser.me/api/?nat=fr&results=1000&gender=male\"\r\n        );\r\n        const data = await res.json();\r\n        renderTable(data.results);\r\n        renderChart(data.results);\r\n    } catch (e) {\r\n        renderError();\r\n    }\r\n}"],"names":[],"version":3,"file":"index.59697c84.js.map","sourceRoot":"/__parcel_source_root/"}